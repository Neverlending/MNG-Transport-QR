<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MANIT RANONG GROUP ส่วนบันทึกขนส่ง</title>
    <!-- เพิ่ม Meta tags สำหรับความปลอดภัย -->
    <meta http-equiv="Content-Security-Policy" content="default-src * 'self' 'unsafe-inline' 'unsafe-eval' data: gap: https://ssl.gstatic.com; media-src * blob: 'self' http://* 'unsafe-inline' 'unsafe-eval'; connect-src * 'self' 'unsafe-inline' 'unsafe-eval';">
</head>
<body>
    <!-- แทนที่ iframe ด้วยการ embed โดยตรง -->
    <script>
        window.addEventListener('load', function() {
            // ขอสิทธิ์กล้องเมื่อโหลดหน้าเว็บ
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                navigator.mediaDevices.getUserMedia({ video: true })
                    .then(function(stream) {
                        // ได้รับสิทธิ์แล้ว โหลด Apps Script
                        loadAppsScript();
                    })
                    .catch(function(error) {
                        console.error("Camera error:", error);
                    });
            }
        });

        function loadAppsScript() {
            fetch('https://script.google.com/macros/s/AKfycbzE_vyTn_clrure1LRf8ggqs0WOFcmWP0VCBHSyKO1_CMUN11f2pdjHC0Pp_MyQX-65/exec')
                .then(response => response.text())
                .then(html => {
                    document.body.innerHTML = html;
                });
        }
    </script>
</body>
</html>
